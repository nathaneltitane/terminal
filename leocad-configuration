#!/bin/bash

# dependencies /////////////////////////////////////////////////////////////////

if [ -z "${TERMUX_VERSION}" ]
then
	PREFIX="/usr"
fi

if [[ -z $(command -v frobulator) ]]
then
	curl -s -L get.frbltr.app > "${PREFIX}"/bin/frobulator
fi

. "${PREFIX}"/bin/frobulator

if [[ $(id -u -n) = "root" ]]
then
	USER="${SUDO_USER}"
	HOME=/home/"${USER}"
fi

# script ///////////////////////////////////////////////////////////////////////

script=$(basename -- "${BASH_SOURCE[0]}")

# version //////////////////////////////////////////////////////////////////////

version=""

# usage ////////////////////////////////////////////////////////////////////////

# prompt ///////////////////////////////////////////////////////////////////////

frobulator.script "Setting up ${script#*-}"
echo

# variables ////////////////////////////////////////////////////////////////////

# defaults /////////////////////////////////////////////////////////////////////

# functions ////////////////////////////////////////////////////////////////////

frobulator.inf "Linking configuration."
echo

if [ -f /media/internal/Lego/leocad/leocad.conf ]
then
	frobulator.directory "${HOME}"/.config/"LeoCAD Software"

	ln -s -f /media/internal/Lego/leocad/leocad.conf "${HOME}"/.config/"LeoCAD Software"/LeoCAD.conf
fi
